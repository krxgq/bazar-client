{"ast":null,"code":"import React,{useEffect}from\"react\";import{useParams}from\"react-router-dom\";import\"./Item.css\";import Header from\"./components/Header\";import Swiper from\"./components/Swiper\";import config from\"./configs/config\";import Description from\"./components/Description\";import Info from\"./components/Info\";/* \r\nTODO: fetch image names from db and pass them to Swiper component. + add more images in db\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Item=()=>{const{id}=useParams();const[data,setData]=React.useState([]);useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(\"http://\".concat(config.host,\":3001/api/getItem?id=\").concat(id),{// sends id as query parameter\nmethod:\"GET\",// GET request instead of POST\nheaders:{\"Content-Type\":\"application/json\"}});if(!response.ok){throw new Error(\"Network response was not ok\");}const responseData=await response.json();console.log(\"Response data:\",responseData);setData(responseData);}catch(error){console.error(\"Fetch error:\",error);}};fetchData();},[id]);return/*#__PURE__*/_jsxs(React.StrictMode,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"mainContent\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"two-column-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{id:\"carousel\",children:/*#__PURE__*/_jsx(Swiper,{images:data.img})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Description,{text:data.description})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-column\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Info,{title:data.title,price:data.price,user:data.userID,itemID:id})})})]})})]});};export default Item;","map":{"version":3,"names":["React","useEffect","useParams","Header","Swiper","config","Description","Info","jsx","_jsx","jsxs","_jsxs","Item","id","data","setData","useState","fetchData","response","fetch","concat","host","method","headers","ok","Error","responseData","json","console","log","error","StrictMode","children","className","images","img","text","description","title","price","user","userID","itemID"],"sources":["C:/Users/Bodnarchuk Bohdan/Desktop/bazar_remake/frontend/src/Item.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./Item.css\";\r\nimport Header from \"./components/Header\";\r\nimport Swiper from \"./components/Swiper\";\r\nimport config from \"./configs/config\";\r\nimport Description from \"./components/Description\";\r\nimport Info from \"./components/Info\";\r\n\r\n/* \r\nTODO: fetch image names from db and pass them to Swiper component. + add more images in db\r\n */\r\n\r\nconst Item = () => {\r\n  const { id } = useParams();\r\n  const [data, setData] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `http://${config.host}:3001/api/getItem?id=${id}`,\r\n          {\r\n            // sends id as query parameter\r\n            method: \"GET\", // GET request instead of POST\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Network response was not ok\");\r\n        }\r\n        const responseData = await response.json();\r\n        console.log(\"Response data:\", responseData);\r\n        setData(responseData);\r\n      } catch (error) {\r\n        console.error(\"Fetch error:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n  return (\r\n    <React.StrictMode>\r\n      <Header />\r\n      <div className=\"mainContent\">\r\n        <div className=\"two-column-layout\">\r\n          <div className=\"left-column\">\r\n            <div className=\"row\">\r\n              <div id=\"carousel\">\r\n                <Swiper images={data.img} />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <Description text={data.description} />\r\n            </div>\r\n          </div>\r\n          <div className=\"right-column\">\r\n            <div className=\"row\">\r\n              <Info\r\n                title={data.title}\r\n                price={data.price}\r\n                user={data.userID}\r\n                itemID={id}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.StrictMode>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}